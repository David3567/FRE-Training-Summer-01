import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * Interface for a class that creates an in-memory database
 *
 * Its `createDb` method creates a hash of named collections that represents the database
 *
 * For maximum flexibility, the service may define HTTP method overrides.
 * Such methods must match the spelling of an HTTP method in lower case (e.g, "get").
 * If a request has a matching method, it will be called as in
 * `get(info: requestInfo, db: {})` where `db` is the database object described above.
 */
export class InMemoryDbService {
}
/**
 * Interface for InMemoryBackend configuration options
 */
export class InMemoryBackendConfigArgs {
}
/////////////////////////////////
/**
 *  InMemoryBackendService configuration options
 *  Usage:
 *    InMemoryWebApiModule.forRoot(InMemHeroService, {delay: 600})
 *
 *  or if providing separately:
 *    provide(InMemoryBackendConfig, {useValue: {delay: 600}}),
 */
export class InMemoryBackendConfig {
    constructor(config = {}) {
        Object.assign(this, {
            // default config:
            caseSensitiveSearch: false,
            dataEncapsulation: false,
            delay: 500,
            delete404: false,
            passThruUnknownUrl: false,
            post204: true,
            post409: false,
            put204: true,
            put404: false,
            apiBase: undefined,
            host: undefined,
            rootPath: undefined // default value is actually set in InMemoryBackendService ctor
        }, config);
    }
}
InMemoryBackendConfig.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig, deps: [{ token: InMemoryBackendConfigArgs }], target: i0.ɵɵFactoryTarget.Injectable });
InMemoryBackendConfig.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: InMemoryBackendConfigArgs }]; } });
/** Return information (UriInfo) about a URI  */
export function parseUri(str) {
    // Adapted from parseuri package - http://blog.stevenlevithan.com/archives/parseuri
    // tslint:disable-next-line:max-line-length
    const URL_REGEX = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
    const m = URL_REGEX.exec(str);
    const uri = {
        source: '',
        protocol: '',
        authority: '',
        userInfo: '',
        user: '',
        password: '',
        host: '',
        port: '',
        relative: '',
        path: '',
        directory: '',
        file: '',
        query: '',
        anchor: ''
    };
    const keys = Object.keys(uri);
    let i = keys.length;
    while (i--) {
        uri[keys[i]] = m && m[i] || '';
    }
    return uri;
}
export function removeTrailingSlash(path) {
    return path.replace(/\/$/, '');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL21pc2MvYW5ndWxhci1pbi1tZW1vcnktd2ViLWFwaS9zcmMvaW50ZXJmYWNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTQSxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sZUFBZSxDQUFDOztBQUd6Qzs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFNLE9BQWdCLGlCQUFpQjtDQWlCdEM7QUFFRDs7R0FFRztBQUNILE1BQU0sT0FBZ0IseUJBQXlCO0NBbUQ5QztBQUVELGlDQUFpQztBQUNqQzs7Ozs7OztHQU9HO0FBRUgsTUFBTSxPQUFPLHFCQUFxQjtJQUNoQyxZQUFZLFNBQW9DLEVBQUU7UUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FDVCxJQUFJLEVBQUU7WUFDSixrQkFBa0I7WUFDbEIsbUJBQW1CLEVBQUUsS0FBSztZQUMxQixpQkFBaUIsRUFBRSxLQUFLO1lBQ3hCLEtBQUssRUFBRSxHQUFHO1lBQ1YsU0FBUyxFQUFFLEtBQUs7WUFDaEIsa0JBQWtCLEVBQUUsS0FBSztZQUN6QixPQUFPLEVBQUUsSUFBSTtZQUNiLE9BQU8sRUFBRSxLQUFLO1lBQ2QsTUFBTSxFQUFFLElBQUk7WUFDWixNQUFNLEVBQUUsS0FBSztZQUNiLE9BQU8sRUFBRSxTQUFTO1lBQ2xCLElBQUksRUFBRSxTQUFTO1lBQ2YsUUFBUSxFQUFFLFNBQVMsQ0FBRSwrREFBK0Q7U0FDckYsRUFDRCxNQUFNLENBQUMsQ0FBQztJQUNkLENBQUM7OzZIQW5CVSxxQkFBcUIsa0JBQ1oseUJBQXlCO2lJQURsQyxxQkFBcUI7c0dBQXJCLHFCQUFxQjtrQkFEakMsVUFBVTswREFFVyx5QkFBeUI7QUFxQi9DLGdEQUFnRDtBQUNoRCxNQUFNLFVBQVUsUUFBUSxDQUFDLEdBQVc7SUFDbEMsbUZBQW1GO0lBQ25GLDJDQUEyQztJQUMzQyxNQUFNLFNBQVMsR0FDWCxrTUFBa00sQ0FBQztJQUN2TSxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLE1BQU0sR0FBRyxHQUFvQztRQUMzQyxNQUFNLEVBQUUsRUFBRTtRQUNWLFFBQVEsRUFBRSxFQUFFO1FBQ1osU0FBUyxFQUFFLEVBQUU7UUFDYixRQUFRLEVBQUUsRUFBRTtRQUNaLElBQUksRUFBRSxFQUFFO1FBQ1IsUUFBUSxFQUFFLEVBQUU7UUFDWixJQUFJLEVBQUUsRUFBRTtRQUNSLElBQUksRUFBRSxFQUFFO1FBQ1IsUUFBUSxFQUFFLEVBQUU7UUFDWixJQUFJLEVBQUUsRUFBRTtRQUNSLFNBQVMsRUFBRSxFQUFFO1FBQ2IsSUFBSSxFQUFFLEVBQUU7UUFDUixLQUFLLEVBQUUsRUFBRTtRQUNULE1BQU0sRUFBRSxFQUFFO0tBQ1gsQ0FBQztJQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUVwQixPQUFPLENBQUMsRUFBRSxFQUFFO1FBQ1YsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0tBQ2hDO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDO0FBNkJELE1BQU0sVUFBVSxtQkFBbUIsQ0FBQyxJQUFZO0lBQzlDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge0h0dHBIZWFkZXJzfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGEgY2xhc3MgdGhhdCBjcmVhdGVzIGFuIGluLW1lbW9yeSBkYXRhYmFzZVxuICpcbiAqIEl0cyBgY3JlYXRlRGJgIG1ldGhvZCBjcmVhdGVzIGEgaGFzaCBvZiBuYW1lZCBjb2xsZWN0aW9ucyB0aGF0IHJlcHJlc2VudHMgdGhlIGRhdGFiYXNlXG4gKlxuICogRm9yIG1heGltdW0gZmxleGliaWxpdHksIHRoZSBzZXJ2aWNlIG1heSBkZWZpbmUgSFRUUCBtZXRob2Qgb3ZlcnJpZGVzLlxuICogU3VjaCBtZXRob2RzIG11c3QgbWF0Y2ggdGhlIHNwZWxsaW5nIG9mIGFuIEhUVFAgbWV0aG9kIGluIGxvd2VyIGNhc2UgKGUuZywgXCJnZXRcIikuXG4gKiBJZiBhIHJlcXVlc3QgaGFzIGEgbWF0Y2hpbmcgbWV0aG9kLCBpdCB3aWxsIGJlIGNhbGxlZCBhcyBpblxuICogYGdldChpbmZvOiByZXF1ZXN0SW5mbywgZGI6IHt9KWAgd2hlcmUgYGRiYCBpcyB0aGUgZGF0YWJhc2Ugb2JqZWN0IGRlc2NyaWJlZCBhYm92ZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEluTWVtb3J5RGJTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW4tbWVtb3J5IFwiZGF0YWJhc2VcIiBoYXNoIHdob3NlIGtleXMgYXJlIGNvbGxlY3Rpb24gbmFtZXNcbiAgICogYW5kIHdob3NlIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbGxlY3Rpb24gb2JqZWN0cyB0byByZXR1cm4gb3IgdXBkYXRlLlxuICAgKlxuICAgKiByZXR1cm5zIE9ic2VydmFibGUgb2YgdGhlIGRhdGFiYXNlIGJlY2F1c2UgY291bGQgaGF2ZSB0byBjcmVhdGUgaXQgYXN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG11c3QgYmUgc2FmZSB0byBjYWxsIHJlcGVhdGVkbHkuXG4gICAqIEVhY2ggdGltZSBpdCBzaG91bGQgcmV0dXJuIGEgbmV3IG9iamVjdCB3aXRoIG5ldyBhcnJheXMgY29udGFpbmluZyBuZXcgaXRlbSBvYmplY3RzLlxuICAgKiBUaGlzIGNvbmRpdGlvbiBhbGxvd3MgdGhlIGluLW1lbW9yeSBiYWNrZW5kIHNlcnZpY2UgdG8gbXV0YXRlIHRoZSBjb2xsZWN0aW9uc1xuICAgKiBhbmQgdGhlaXIgaXRlbXMgd2l0aG91dCB0b3VjaGluZyB0aGUgb3JpZ2luYWwgc291cmNlIGRhdGEuXG4gICAqXG4gICAqIFRoZSBpbi1tZW0gYmFja2VuZCBzZXJ2aWNlIGNhbGxzIHRoaXMgbWV0aG9kIHdpdGhvdXQgYSB2YWx1ZSB0aGUgZmlyc3QgdGltZS5cbiAgICogVGhlIHNlcnZpY2UgY2FsbHMgaXQgd2l0aCB0aGUgYFJlcXVlc3RJbmZvYCB3aGVuIGl0IHJlY2VpdmVzIGEgUE9TVCBgY29tbWFuZHMvcmVzZXREYmAgcmVxdWVzdC5cbiAgICogWW91ciBJbk1lbW9yeURiU2VydmljZSBjYW4gYWRqdXN0IGl0cyBiZWhhdmlvciBhY2NvcmRpbmdseS5cbiAgICovXG4gIGFic3RyYWN0IGNyZWF0ZURiKHJlcUluZm8/OiBSZXF1ZXN0SW5mbyk6IHt9fE9ic2VydmFibGU8e30+fFByb21pc2U8e30+O1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgSW5NZW1vcnlCYWNrZW5kIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5NZW1vcnlCYWNrZW5kQ29uZmlnQXJncyB7XG4gIC8qKlxuICAgKiBUaGUgYmFzZSBwYXRoIHRvIHRoZSBhcGksIGUuZywgJ2FwaS8nLlxuICAgKiBJZiBub3Qgc3BlY2lmaWVkIHRoYW4gYHBhcnNlUmVxdWVzdFVybGAgYXNzdW1lcyBpdCBpcyB0aGUgZmlyc3QgcGF0aCBzZWdtZW50IGluIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgYXBpQmFzZT86IHN0cmluZztcbiAgLyoqXG4gICAqIGZhbHNlIChkZWZhdWx0KSBpZiBzZWFyY2ggbWF0Y2ggc2hvdWxkIGJlIGNhc2UgaW5zZW5zaXRpdmVcbiAgICovXG4gIGNhc2VTZW5zaXRpdmVTZWFyY2g/OiBib29sZWFuO1xuICAvKipcbiAgICogZmFsc2UgKGRlZmF1bHQpIHB1dCBjb250ZW50IGRpcmVjdGx5IGluc2lkZSB0aGUgcmVzcG9uc2UgYm9keS5cbiAgICogdHJ1ZTogZW5jYXBzdWxhdGUgY29udGVudCBpbiBhIGBkYXRhYCBwcm9wZXJ0eSBpbnNpZGUgdGhlIHJlc3BvbnNlIGJvZHksIGB7IGRhdGE6IC4uLiB9YC5cbiAgICovXG4gIGRhdGFFbmNhcHN1bGF0aW9uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGRlbGF5IChpbiBtcykgdG8gc2ltdWxhdGUgbGF0ZW5jeVxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBmYWxzZSAoZGVmYXVsdCkgc2hvdWxkIDIwNCB3aGVuIG9iamVjdC10by1kZWxldGUgbm90IGZvdW5kOyB0cnVlOiA0MDRcbiAgICovXG4gIGRlbGV0ZTQwND86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBob3N0IGZvciB0aGlzIHNlcnZpY2UsIGUuZy4sICdsb2NhbGhvc3QnXG4gICAqL1xuICBob3N0Pzogc3RyaW5nO1xuICAvKipcbiAgICogZmFsc2UgKGRlZmF1bHQpIHNob3VsZCBwYXNzIHVucmVjb2duaXplZCByZXF1ZXN0IFVSTCB0aHJvdWdoIHRvIG9yaWdpbmFsIGJhY2tlbmQ7IHRydWU6IDQwNFxuICAgKi9cbiAgcGFzc1RocnVVbmtub3duVXJsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIHRydWUgKGRlZmF1bHQpIHNob3VsZCBOT1QgcmV0dXJuIHRoZSBpdGVtICgyMDQpIGFmdGVyIGEgUE9TVC4gZmFsc2U6IHJldHVybiB0aGUgaXRlbSAoMjAwKS5cbiAgICovXG4gIHBvc3QyMDQ/OiBib29sZWFuO1xuICAvKipcbiAgICogZmFsc2UgKGRlZmF1bHQpIHNob3VsZCBOT1QgdXBkYXRlIGV4aXN0aW5nIGl0ZW0gd2l0aCBQT1NULiBmYWxzZTogT0sgdG8gdXBkYXRlLlxuICAgKi9cbiAgcG9zdDQwOT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiB0cnVlIChkZWZhdWx0KSBzaG91bGQgTk9UIHJldHVybiB0aGUgaXRlbSAoMjA0KSBhZnRlciBhIFBPU1QuIGZhbHNlOiByZXR1cm4gdGhlIGl0ZW0gKDIwMCkuXG4gICAqL1xuICBwdXQyMDQ/OiBib29sZWFuO1xuICAvKipcbiAgICogZmFsc2UgKGRlZmF1bHQpIGlmIGl0ZW0gbm90IGZvdW5kLCBjcmVhdGUgYXMgbmV3IGl0ZW07IGZhbHNlOiBzaG91bGQgNDA0LlxuICAgKi9cbiAgcHV0NDA0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIHJvb3QgcGF0aCBfYmVmb3JlXyBhbnkgQVBJIGNhbGwsIGUuZy4sICcnXG4gICAqL1xuICByb290UGF0aD86IHN0cmluZztcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqICBJbk1lbW9yeUJhY2tlbmRTZXJ2aWNlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogIFVzYWdlOlxuICogICAgSW5NZW1vcnlXZWJBcGlNb2R1bGUuZm9yUm9vdChJbk1lbUhlcm9TZXJ2aWNlLCB7ZGVsYXk6IDYwMH0pXG4gKlxuICogIG9yIGlmIHByb3ZpZGluZyBzZXBhcmF0ZWx5OlxuICogICAgcHJvdmlkZShJbk1lbW9yeUJhY2tlbmRDb25maWcsIHt1c2VWYWx1ZToge2RlbGF5OiA2MDB9fSksXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBJbk1lbW9yeUJhY2tlbmRDb25maWcgaW1wbGVtZW50cyBJbk1lbW9yeUJhY2tlbmRDb25maWdBcmdzIHtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBJbk1lbW9yeUJhY2tlbmRDb25maWdBcmdzID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB0aGlzLCB7XG4gICAgICAgICAgLy8gZGVmYXVsdCBjb25maWc6XG4gICAgICAgICAgY2FzZVNlbnNpdGl2ZVNlYXJjaDogZmFsc2UsXG4gICAgICAgICAgZGF0YUVuY2Fwc3VsYXRpb246IGZhbHNlLCAgIC8vIGRvIE5PVCB3cmFwIGNvbnRlbnQgd2l0aGluIGFuIG9iamVjdCB3aXRoIGEgYGRhdGFgIHByb3BlcnR5XG4gICAgICAgICAgZGVsYXk6IDUwMCwgICAgICAgICAgICAgICAgIC8vIHNpbXVsYXRlIGxhdGVuY3kgYnkgZGVsYXlpbmcgcmVzcG9uc2VcbiAgICAgICAgICBkZWxldGU0MDQ6IGZhbHNlLCAgICAgICAgICAgLy8gZG9uJ3QgY29tcGxhaW4gaWYgY2FuJ3QgZmluZCBlbnRpdHkgdG8gZGVsZXRlXG4gICAgICAgICAgcGFzc1RocnVVbmtub3duVXJsOiBmYWxzZSwgIC8vIDQwNCBpZiBjYW4ndCBwcm9jZXNzIFVSTFxuICAgICAgICAgIHBvc3QyMDQ6IHRydWUsICAgICAgICAgICAgICAvLyBkb24ndCByZXR1cm4gdGhlIGl0ZW0gYWZ0ZXIgYSBQT1NUXG4gICAgICAgICAgcG9zdDQwOTogZmFsc2UsICAgICAgICAgICAgIC8vIGRvbid0IHVwZGF0ZSBleGlzdGluZyBpdGVtIHdpdGggdGhhdCBJRFxuICAgICAgICAgIHB1dDIwNDogdHJ1ZSwgICAgICAgICAgICAgICAvLyBkb24ndCByZXR1cm4gdGhlIGl0ZW0gYWZ0ZXIgYSBQVVRcbiAgICAgICAgICBwdXQ0MDQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBpdGVtIGlmIFBVVCBpdGVtIHdpdGggdGhhdCBJRCBub3QgZm91bmRcbiAgICAgICAgICBhcGlCYXNlOiB1bmRlZmluZWQsICAgICAgICAgLy8gYXNzdW1lZCB0byBiZSB0aGUgZmlyc3QgcGF0aCBzZWdtZW50XG4gICAgICAgICAgaG9zdDogdW5kZWZpbmVkLCAgICAgLy8gZGVmYXVsdCB2YWx1ZSBpcyBhY3R1YWxseSBzZXQgaW4gSW5NZW1vcnlCYWNrZW5kU2VydmljZSBjdG9yXG4gICAgICAgICAgcm9vdFBhdGg6IHVuZGVmaW5lZCAgLy8gZGVmYXVsdCB2YWx1ZSBpcyBhY3R1YWxseSBzZXQgaW4gSW5NZW1vcnlCYWNrZW5kU2VydmljZSBjdG9yXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqIFJldHVybiBpbmZvcm1hdGlvbiAoVXJpSW5mbykgYWJvdXQgYSBVUkkgICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVcmkoc3RyOiBzdHJpbmcpOiBVcmlJbmZvIHtcbiAgLy8gQWRhcHRlZCBmcm9tIHBhcnNldXJpIHBhY2thZ2UgLSBodHRwOi8vYmxvZy5zdGV2ZW5sZXZpdGhhbi5jb20vYXJjaGl2ZXMvcGFyc2V1cmlcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICBjb25zdCBVUkxfUkVHRVggPVxuICAgICAgL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuICBjb25zdCBtID0gVVJMX1JFR0VYLmV4ZWMoc3RyKTtcbiAgY29uc3QgdXJpOiBVcmlJbmZvJntba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICAgIHNvdXJjZTogJycsXG4gICAgcHJvdG9jb2w6ICcnLFxuICAgIGF1dGhvcml0eTogJycsXG4gICAgdXNlckluZm86ICcnLFxuICAgIHVzZXI6ICcnLFxuICAgIHBhc3N3b3JkOiAnJyxcbiAgICBob3N0OiAnJyxcbiAgICBwb3J0OiAnJyxcbiAgICByZWxhdGl2ZTogJycsXG4gICAgcGF0aDogJycsXG4gICAgZGlyZWN0b3J5OiAnJyxcbiAgICBmaWxlOiAnJyxcbiAgICBxdWVyeTogJycsXG4gICAgYW5jaG9yOiAnJ1xuICB9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModXJpKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdXJpW2tleXNbaV1dID0gbSAmJiBtW2ldIHx8ICcnO1xuICB9XG4gIHJldHVybiB1cmk7XG59XG5cbi8qKlxuICpcbiAqIEludGVyZmFjZSBmb3IgdGhlIHJlc3VsdCBvZiB0aGUgYHBhcnNlUmVxdWVzdFVybGAgbWV0aG9kOlxuICogICBHaXZlbiBVUkwgXCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2N1c3RvbWVycy80Mj9mb289MSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zXG4gKiAgICAgYmFzZTogJ2FwaS8nXG4gKiAgICAgY29sbGVjdGlvbk5hbWU6ICdjdXN0b21lcnMnXG4gKiAgICAgaWQ6ICc0MidcbiAqICAgICBxdWVyeTogdGhpcy5jcmVhdGVRdWVyeSgnZm9vPTEnKVxuICogICAgIHJlc291cmNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdC9hcGkvY3VzdG9tZXJzLydcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRSZXF1ZXN0VXJsIHtcbiAgYXBpQmFzZTogc3RyaW5nOyAgICAgICAgICAgICAgIC8vIHRoZSBzbGFzaC10ZXJtaW5hdGVkIFwiYmFzZVwiIGZvciBhcGkgcmVxdWVzdHMgKGUuZy4gYGFwaS9gKVxuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nOyAgICAgICAgLy8gdGhlIG5hbWUgb2YgdGhlIGNvbGxlY3Rpb24gb2YgZGF0YSBpdGVtcyAoZS5nLixgY3VzdG9tZXJzYClcbiAgaWQ6IHN0cmluZzsgICAgICAgICAgICAgICAgICAgIC8vIHRoZSAob3B0aW9uYWwpIGlkIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIChlLmcuLCBgNDJgKVxuICBxdWVyeTogTWFwPHN0cmluZywgc3RyaW5nW10+OyAgLy8gdGhlIHF1ZXJ5IHBhcmFtZXRlcnM7XG4gIHJlc291cmNlVXJsOlxuICAgICAgc3RyaW5nOyAgLy8gdGhlIGVmZmVjdGl2ZSBVUkwgZm9yIHRoZSByZXNvdXJjZSAoZS5nLiwgJ2h0dHA6Ly9sb2NhbGhvc3QvYXBpL2N1c3RvbWVycy8nKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhc3NUaHJ1QmFja2VuZCB7XG4gIC8qKlxuICAgKiBIYW5kbGUgYW4gSFRUUCByZXF1ZXN0IGFuZCByZXR1cm4gYW4gT2JzZXJ2YWJsZSBvZiBIVFRQIHJlc3BvbnNlXG4gICAqIEJvdGggdGhlIHJlcXVlc3QgdHlwZSBhbmQgdGhlIHJlc3BvbnNlIHR5cGUgYXJlIGRldGVybWluZWQgYnkgdGhlIHN1cHBvcnRpbmcgSFRUUCBsaWJyYXJ5LlxuICAgKi9cbiAgaGFuZGxlKHJlcTogYW55KTogT2JzZXJ2YWJsZTxhbnk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTbGFzaChwYXRoOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwvJC8sICcnKTtcbn1cblxuLyoqXG4gKiAgTWluaW11bSBkZWZpbml0aW9uIG5lZWRlZCBieSBiYXNlIGNsYXNzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdENvcmUge1xuICB1cmw6IHN0cmluZzsgICAgICAgICAgICAgLy8gcmVxdWVzdCBVUkxcbiAgdXJsV2l0aFBhcmFtcz86IHN0cmluZzsgIC8vIHJlcXVlc3QgVVJMIHdpdGggcXVlcnkgcGFyYW1ldGVycyBhZGRlZCBieSBgSHR0cFBhcmFtc2Bcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIG9iamVjdCB3LyBpbmZvIGFib3V0IHRoZSBjdXJyZW50IHJlcXVlc3QgdXJsXG4gKiBleHRyYWN0ZWQgZnJvbSBhbiBIdHRwIFJlcXVlc3QuXG4gKiBBbHNvIGhvbGRzIHV0aWxpdHkgbWV0aG9kcyBhbmQgY29uZmlndXJhdGlvbiBkYXRhIGZyb20gdGhpcyBzZXJ2aWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEluZm8ge1xuICByZXE6IFJlcXVlc3RDb3JlOyAgLy8gY29uY3JldGUgdHlwZSBkZXBlbmRzIHVwb24gdGhlIEh0dHAgbGlicmFyeVxuICBhcGlCYXNlOiBzdHJpbmc7XG4gIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmc7XG4gIGNvbGxlY3Rpb246IGFueTtcbiAgaGVhZGVyczogSHR0cEhlYWRlcnM7XG4gIG1ldGhvZDogc3RyaW5nO1xuICBpZDogYW55O1xuICBxdWVyeTogTWFwPHN0cmluZywgc3RyaW5nW10+O1xuICByZXNvdXJjZVVybDogc3RyaW5nO1xuICB1cmw6IHN0cmluZzsgIC8vIHJlcXVlc3QgVVJMXG4gIHV0aWxzOiBSZXF1ZXN0SW5mb1V0aWxpdGllcztcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHV0aWxpdHkgbWV0aG9kcyBmcm9tIHRoaXMgc2VydmljZSBpbnN0YW5jZS5cbiAqIFVzZWZ1bCB3aXRoaW4gYW4gSFRUUCBtZXRob2Qgb3ZlcnJpZGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0SW5mb1V0aWxpdGllcyB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb2xkIHJlc3BvbnNlIE9ic2VydmFibGUgZnJvbSBhIGZhY3RvcnkgZm9yIFJlc3BvbnNlT3B0aW9uc1xuICAgKiB0aGUgc2FtZSB3YXkgdGhhdCB0aGUgaW4tbWVtIGJhY2tlbmQgc2VydmljZSBkb2VzLlxuICAgKiBAcGFyYW0gcmVzT3B0aW9uc0ZhY3RvcnkgLSBjcmVhdGVzIFJlc3BvbnNlT3B0aW9ucyB3aGVuIG9ic2VydmFibGUgaXMgc3Vic2NyaWJlZFxuICAgKiBAcGFyYW0gd2l0aERlbGF5IC0gaWYgdHJ1ZSAoZGVmYXVsdCksIGFkZCBzaW11bGF0ZWQgbGF0ZW5jeSBkZWxheSBmcm9tIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNyZWF0ZVJlc3BvbnNlJDogKHJlc09wdGlvbnNGYWN0b3J5OiAoKSA9PiBSZXNwb25zZU9wdGlvbnMpID0+IE9ic2VydmFibGU8YW55PjtcblxuICAvKipcbiAgICogRmluZCBmaXJzdCBpbnN0YW5jZSBvZiBpdGVtIGluIGNvbGxlY3Rpb24gYnkgYGl0ZW0uaWRgXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpZFxuICAgKi9cbiAgZmluZEJ5SWQ8VCBleHRlbmRzIHtpZDogYW55fT4oY29sbGVjdGlvbjogVFtdLCBpZDogYW55KTogVHx1bmRlZmluZWQ7XG5cbiAgLyoqIHJldHVybiB0aGUgY3VycmVudCwgYWN0aXZlIGNvbmZpZ3VyYXRpb24gd2hpY2ggaXMgYSBibGVuZCBvZiBkZWZhdWx0cyBhbmQgb3ZlcnJpZGVzICovXG4gIGdldENvbmZpZygpOiBJbk1lbW9yeUJhY2tlbmRDb25maWdBcmdzO1xuXG4gIC8qKiBHZXQgdGhlIGluLW1lbSBzZXJ2aWNlJ3MgY29weSBvZiB0aGUgXCJkYXRhYmFzZVwiICovXG4gIGdldERiKCk6IHt9O1xuXG4gIC8qKiBHZXQgSlNPTiBib2R5IGZyb20gdGhlIHJlcXVlc3Qgb2JqZWN0ICovXG4gIGdldEpzb25Cb2R5KHJlcTogYW55KTogYW55O1xuXG4gIC8qKiBHZXQgbG9jYXRpb24gaW5mbyBmcm9tIGEgdXJsLCBldmVuIG9uIHNlcnZlciB3aGVyZSBgZG9jdW1lbnRgIGlzIG5vdCBkZWZpbmVkICovXG4gIGdldExvY2F0aW9uKHVybDogc3RyaW5nKTogVXJpSW5mbztcblxuICAvKiogR2V0IChvciBjcmVhdGUpIHRoZSBcInJlYWxcIiBiYWNrZW5kICovXG4gIGdldFBhc3NUaHJ1QmFja2VuZCgpOiBQYXNzVGhydUJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIHJldHVybiB0cnVlIGlmIGNhbiBkZXRlcm1pbmUgdGhhdCB0aGUgY29sbGVjdGlvbidzIGBpdGVtLmlkYCBpcyBhIG51bWJlclxuICAgKiAqL1xuICBpc0NvbGxlY3Rpb25JZE51bWVyaWM8VCBleHRlbmRzIHtpZDogYW55fT4oY29sbGVjdGlvbjogVFtdLCBjb2xsZWN0aW9uTmFtZTogc3RyaW5nKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogUGFyc2VzIHRoZSByZXF1ZXN0IFVSTCBpbnRvIGEgYFBhcnNlZFJlcXVlc3RVcmxgIG9iamVjdC5cbiAgICogUGFyc2luZyBkZXBlbmRzIHVwb24gY2VydGFpbiB2YWx1ZXMgb2YgYGNvbmZpZ2A6IGBhcGlCYXNlYCwgYGhvc3RgLCBhbmQgYHVybFJvb3RgLlxuICAgKi9cbiAgcGFyc2VSZXF1ZXN0VXJsKHVybDogc3RyaW5nKTogUGFyc2VkUmVxdWVzdFVybDtcbn1cblxuLyoqXG4gKiBQcm92aWRlIGEgYHJlc3BvbnNlSW50ZXJjZXB0b3JgIG1ldGhvZCBvZiB0aGlzIHR5cGUgaW4geW91ciBgaW5NZW1EYlNlcnZpY2VgIHRvXG4gKiBtb3JwaCB0aGUgcmVzcG9uc2Ugb3B0aW9ucyBjcmVhdGVkIGluIHRoZSBgY29sbGVjdGlvbkhhbmRsZXJgLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUludGVyY2VwdG9yID0gKHJlczogUmVzcG9uc2VPcHRpb25zLCByaTogUmVxdWVzdEluZm8pID0+IFJlc3BvbnNlT3B0aW9ucztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZU9wdGlvbnMge1xuICAvKipcbiAgICogU3RyaW5nLCBPYmplY3QsIEFycmF5QnVmZmVyIG9yIEJsb2IgcmVwcmVzZW50aW5nIHRoZSBib2R5IG9mIHRoZSB7QGxpbmsgUmVzcG9uc2V9LlxuICAgKi9cbiAgYm9keT86IHN0cmluZ3xPYmplY3R8QXJyYXlCdWZmZXJ8QmxvYjtcblxuICAvKipcbiAgICogUmVzcG9uc2UgaGVhZGVyc1xuICAgKi9cbiAgaGVhZGVycz86IEh0dHBIZWFkZXJzO1xuXG4gIC8qKlxuICAgKiBIdHRwIHtAbGluayBodHRwczovL3d3dy53My5vcmcvUHJvdG9jb2xzL3JmYzI2MTYvcmZjMjYxNi1zZWMxMC5odG1sIHN0YXR1cyBjb2RlfVxuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgc3RhdHVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTdGF0dXMgdGV4dCBmb3IgdGhlIHN0YXR1cyBjb2RlXG4gICAqL1xuICBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICogcmVxdWVzdCB1cmxcbiAgICovXG4gIHVybD86IHN0cmluZztcbn1cblxuLyoqIEludGVyZmFjZSBvZiBpbmZvcm1hdGlvbiBhYm91dCBhIFVyaSAgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXJpSW5mbyB7XG4gIHNvdXJjZTogc3RyaW5nO1xuICBwcm90b2NvbDogc3RyaW5nO1xuICBhdXRob3JpdHk6IHN0cmluZztcbiAgdXNlckluZm86IHN0cmluZztcbiAgdXNlcjogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICBob3N0OiBzdHJpbmc7XG4gIHBvcnQ6IHN0cmluZztcbiAgcmVsYXRpdmU6IHN0cmluZztcbiAgcGF0aDogc3RyaW5nO1xuICBkaXJlY3Rvcnk6IHN0cmluZztcbiAgZmlsZTogc3RyaW5nO1xuICBxdWVyeTogc3RyaW5nO1xuICBhbmNob3I6IHN0cmluZztcbn1cbiJdfQ==